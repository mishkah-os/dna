<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mishkah Scaffold - Ø£Ù…Ø«Ù„Ø©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .header h1 {
            color: #667eea;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .header p {
            color: #666;
            font-size: 1.1rem;
        }

        .status-panel {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .status-panel h2 {
            color: #667eea;
            margin-bottom: 1rem;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .status-item {
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .status-item strong {
            display: block;
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
        }

        .badge.success {
            background: #d4edda;
            color: #155724;
        }

        .badge.danger {
            background: #f8d7da;
            color: #721c24;
        }

        .badge.info {
            background: #d1ecf1;
            color: #0c5460;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin: 0.5rem;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .example-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .example-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        }

        .example-card h3 {
            color: #667eea;
            margin-bottom: 1rem;
        }

        .example-card p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .example-card pre {
            background: #f5f5f5;
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.9rem;
            border-left: 4px solid #667eea;
        }

        .console-output {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 1.5rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            max-height: 400px;
            overflow-y: auto;
            margin-top: 1rem;
        }

        .console-output .log {
            margin: 0.5rem 0;
        }

        .console-output .success {
            color: #4ec9b0;
        }

        .console-output .error {
            color: #f48771;
        }

        .console-output .warn {
            color: #dcdcaa;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒ™ Mishkah Scaffold System</h1>
            <p>Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ·</p>
        </div>

        <div class="status-panel">
            <h2>ğŸ“Š Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…</h2>
            <div class="status-grid">
                <div class="status-item">
                    <strong>Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ</strong>
                    <span id="current-mode" class="badge info">-</span>
                </div>
                <div class="status-item">
                    <strong>Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø­Ù…Ù‘Ù„Ø©</strong>
                    <span id="loaded-count" class="badge success">0</span>
                </div>
                <div class="status-item">
                    <strong>Ø§Ù„ÙØ§Ø´Ù„Ø©</strong>
                    <span id="failed-count" class="badge danger">0</span>
                </div>
                <div class="status-item">
                    <strong>Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ø§Ù„ØªØ´Ø®ÙŠØµÙŠØ©</strong>
                    <span id="diagnostic-status" class="badge info">-</span>
                </div>
            </div>

            <div style="margin-top: 1.5rem;">
                <button onclick="showConfig()">ğŸ“‹ Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
                <button onclick="showScaffold()">ğŸ—ï¸ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„</button>
                <button onclick="showHelp()">ğŸ’¡ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©</button>
                <button onclick="testReload()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„</button>
            </div>

            <div id="console-output" class="console-output" style="display: none;"></div>
        </div>

        <div class="examples">
            <div class="example-card">
                <h3>ğŸš€ Development Mode</h3>
                <p>Ø§Ù„ØªØ·ÙˆÙŠØ± Ù…Ø¹ ÙƒØ§Ù…Ù„ Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ´Ø®ÙŠØµÙŠØ©</p>
                <pre>window.__MISHKAH_CONFIG__ = {
  mode: 'dev'
};</pre>
                <button onclick="switchMode('dev')">ØªØ·Ø¨ÙŠÙ‚</button>
            </div>

            <div class="example-card">
                <h3>ğŸ“¦ Production Mode</h3>
                <p>Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ø¨Ø¯ÙˆÙ† Ø·Ø¨Ù‚Ø§Øª ØªØ´Ø®ÙŠØµÙŠØ©</p>
                <pre>window.__MISHKAH_CONFIG__ = {
  mode: 'prod'
};</pre>
                <button onclick="switchMode('prod')">ØªØ·Ø¨ÙŠÙ‚</button>
            </div>

            <div class="example-card">
                <h3>ğŸ” Debug Mode</h3>
                <p>ØªØ´Ø®ÙŠØµ ÙƒØ§Ù…Ù„ Ù…Ø¹ Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡</p>
                <pre>window.__MISHKAH_CONFIG__ = {
  mode: 'debug'
};</pre>
                <button onclick="switchMode('debug')">ØªØ·Ø¨ÙŠÙ‚</button>
            </div>

            <div class="example-card">
                <h3>âš¡ Minimal Mode</h3>
                <p>Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ - ÙÙ‚Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª</p>
                <pre>window.__MISHKAH_CONFIG__ = {
  mode: 'minimal'
};</pre>
                <button onclick="switchMode('minimal')">ØªØ·Ø¨ÙŠÙ‚</button>
            </div>

            <div class="example-card">
                <h3>ğŸ¨ Custom Mode</h3>
                <p>Ø§Ø®ØªÙŠØ§Ø± Ø¯Ù‚ÙŠÙ‚ Ù„Ù„Ù…ÙƒØªØ¨Ø§Øª</p>
                <pre>window.__MISHKAH_CONFIG__ = {
  mode: 'custom',
  features: {
    core: true,
    utils: true,
    ui: true,
    htmlx: false
  }
};</pre>
                <button onclick="switchMode('custom')">ØªØ·Ø¨ÙŠÙ‚</button>
            </div>

            <div class="example-card">
                <h3>ğŸ“¡ With CDN</h3>
                <p>Ø§Ø³ØªØ®Ø¯Ø§Ù… CDN Ø®Ø§Ø±Ø¬ÙŠ</p>
                <pre>window.__MISHKAH_CONFIG__ = {
  mode: 'prod',
  cdn: {
    enabled: true,
    baseUrl: 'https://cdn.example.com/'
  }
};</pre>
                <button onclick="alert('CDN mode - Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ­ØªØ§Ø¬ CDN Ø­Ù‚ÙŠÙ‚ÙŠ')">Ù…Ø¹Ø§ÙŠÙ†Ø©</button>
            </div>
        </div>
    </div>

    <!-- Mishkah Scaffold System -->
    <script>
        // Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
        window.__MISHKAH_CONFIG__ = {
            mode: 'dev',
            onReady: function (info) {
                console.log('âœ… Mishkah Ø¬Ø§Ù‡Ø²!');
                updateStatus();
            },
            onProgress: function (info) {
                console.log('ğŸ“¦ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„:', info.current, '/', info.total);
            },
            onError: function (error, item) {
                console.error('âŒ Ø®Ø·Ø£:', item.name, error);
            }
        };
    </script>
    <script src="../lib/mishkah.scaffold.js"></script>

    <script>
        // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
        function updateStatus() {
            var scaffold = window.__MISHKAH_SCAFFOLD__;
            if (!scaffold) {
                document.getElementById('current-mode').textContent = 'ØºÙŠØ± Ù…Ø­Ù…Ù‘Ù„';
                return;
            }

            var config = scaffold.config;
            document.getElementById('current-mode').textContent = config.mode.toUpperCase();
            document.getElementById('loaded-count').textContent = scaffold.loaded.length;
            document.getElementById('failed-count').textContent = scaffold.failed.length;

            var diagnosticCount = 0;
            if (config.diagnostics.div) diagnosticCount++;
            if (config.diagnostics.help) diagnosticCount++;
            if (config.diagnostics.performance) diagnosticCount++;
            document.getElementById('diagnostic-status').textContent = diagnosticCount + ' Ù…ÙØ¹Ù‘Ù„Ø©';
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        function showConfig() {
            var output = document.getElementById('console-output');
            output.style.display = 'block';
            output.innerHTML = '<div class="log success">ğŸ“‹ Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª...</div>';
            window.M = window.Mishkah;
            M.help();
            if (window.M && window.M.help && window.M.help.config) {
                window.M.help.config();
                output.innerHTML += '<div class="log">ØªØ­Ù‚Ù‚ Ù…Ù† Console Ù„Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„Ø©</div>';
            } else {
                output.innerHTML += '<div class="log error">âŒ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ØºÙŠØ± Ù…Ø­Ù…Ù‘Ù„. M=' + (window.M ? 'Ù…ÙˆØ¬ÙˆØ¯' : 'ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯') + '</div>';
            }
        }

        // Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„Ø³Ù‚Ø§Ù„Ø§Øª
        function showScaffold() {
            var output = document.getElementById('console-output');
            output.style.display = 'block';
            output.innerHTML = '<div class="log success">ğŸ—ï¸ Ø­Ø§Ù„Ø© Ø§Ù„Ø³Ù‚Ø§Ù„Ø§Øª...</div>';

            var M = window.Mishkah;
            if (M && M.help && M.help.scaffold) {
                M.help.scaffold();
                output.innerHTML += '<div class="log">ØªØ­Ù‚Ù‚ Ù…Ù† Console Ù„Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„Ø©</div>';
            } else {
                output.innerHTML += '<div class="log error">âŒ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ØºÙŠØ± Ù…Ø­Ù…Ù‘Ù„</div>';
            }
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
        function showHelp() {
            var output = document.getElementById('console-output');
            output.style.display = 'block';
            output.innerHTML = '<div class="log success">ğŸ’¡ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©...</div>';

            var M = window.Mishkah;
            if (M && M.help) {
                M.help();
                output.innerHTML += '<div class="log">ØªØ­Ù‚Ù‚ Ù…Ù† Console Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©</div>';
            } else {
                output.innerHTML += '<div class="log error">âŒ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ØºÙŠØ± Ù…Ø­Ù…Ù‘Ù„</div>';
            }
        }

        // Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
        function testReload() {
            var output = document.getElementById('console-output');
            output.style.display = 'block';
            output.innerHTML = '<div class="log warn">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>';

            if (window.MishkahScaffold) {
                MishkahScaffold.reload({
                    mode: 'dev'
                }, function (err, result) {
                    if (err) {
                        output.innerHTML += '<div class="log error">âŒ ÙØ´Ù„: ' + err + '</div>';
                    } else {
                        output.innerHTML += '<div class="log success">âœ… ØªÙ…Øª Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­</div>';
                        updateStatus();
                    }
                });
            } else {
                output.innerHTML += '<div class="log error">âŒ MishkahScaffold ØºÙŠØ± Ù…ØªØ§Ø­</div>';
            }
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹
        function switchMode(mode) {
            var output = document.getElementById('console-output');
            output.style.display = 'block';
            output.innerHTML = '<div class="log info">ğŸ”§ ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ ÙˆØ¶Ø¹: ' + mode + '</div>';
            output.innerHTML += '<div class="log warn">âš ï¸ ÙŠØªØ·Ù„Ø¨ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙƒØ§Ù…Ù„</div>';

            // Ø­ÙØ¸ ÙÙŠ localStorage
            localStorage.setItem('mishkah_mode', mode);

            output.innerHTML += '<div class="log">Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ØŒ Ø£Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø£Ùˆ Ø§Ø¶ØºØ· F5</div>';
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø­ÙÙˆØ¸ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('DOMContentLoaded', function () {
            var savedMode = localStorage.getItem('mishkah_mode');
            if (savedMode) {
                console.log('ğŸ“Œ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø­ÙÙˆØ¸:', savedMode);
            }
        });

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø¹Ù†Ø¯ Ø¬Ù‡ÙˆØ²ÙŠØ© Mishkah
        window.addEventListener('mishkah:ready', function (event) {
            console.log('ğŸ‰ Ø­Ø¯Ø« mishkah:ready');
            updateStatus();
        });

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØ© (ØªØ£ÙƒÙŠØ¯)
        setTimeout(updateStatus, 1000);
    </script>
</body>

</html>